"use strict";(()=>{var ft=Object.defineProperty;var s=(k,M)=>ft(k,"name",{value:M,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["editor"],{22452:(k,M,u)=>{var E=u(45075),v=u(35889),g=u(64463),m=u(59753),p=u(5878);const j=new WeakMap;function f(t){const e=t.querySelector(".js-blob-filename"),n=e.value;return n==="."||n===".."||n===".git"?!1:/\S/.test(e.value)}s(f,"filenameValid");function w(t){const e=t.querySelector(".js-blob-contents");return e.getAttribute("data-allow-unchanged")==="true"?!0:H(e)}s(w,"blobContentsConsideredSubmittable");function i(t){const e=t.querySelector(".js-new-filename-field");return H(e)}s(i,"newFilenameConsideredChanged");function c(t){return Array.from(t.querySelectorAll(".js-check-for-fork")).some(p.Z)}s(c,"forkIsNotOK");function h(t){return c(t)||!f(t)?!1:w(t)||i(t)}s(h,"canSubmit");function T(t){const e=t.querySelector(".js-blob-contents");return e.getAttribute("data-allow-unchanged")?!0:H(e)}s(T,"trackAsBlobEdit");function b(t){const e=t.querySelector(".js-blob-contents");return H(e)||i(t)}s(b,"hasChanges");let y=null;function C(t){let e=t.getAttribute("data-github-confirm-unload");return(e==="yes"||e==="true")&&(e=""),e==null&&(e="false"),e==="no"||e==="false"?null:function(){return e}}s(C,"extractConfirmUnload");function P(){const t=document.querySelector(".js-blob-form"),e=t.querySelector(".js-blob-submit");e instanceof HTMLButtonElement&&(e.disabled=!h(t)),t.querySelector(".js-blob-contents-changed").value=T(t).toString(),y&&(b(t)?window.onbeforeunload=y:window.onbeforeunload=null)}s(P,"revalidateBlobForm");function O(t){for(const e of t.querySelectorAll("input"))e.getAttribute("type")==="hidden"&&e.getAttribute("class")&&e.getAttribute("data-default-value")==null&&e.setAttribute("data-default-value",e.value)}s(O,"setDefaultValues");function H(t){return t==null?!0:t.type==="hidden"?t.value!==t.getAttribute("data-default-value"):t.value!==t.defaultValue}s(H,"fieldConsideredChanged");function Me(t){const e=t.querySelector(".js-blob-contents"),n=t.querySelector(".js-new-filename-field"),o=t.querySelector(".js-blob-filename"),r=o.hasAttribute("data-new-file");if(o.defaultValue!=null&&o.defaultValue.length&&!r)return j.set(e,n.value)}s(Me,"setOldFilename"),(0,g.N7)(".js-blob-form",{constructor:HTMLFormElement,initialize(t){setTimeout(()=>{O(t),Me(t),P(),y=C(t),t.addEventListener("submit",function(){window.onbeforeunload=null})})}}),(0,m.on)("change",".js-blob-contents",function(){const t=document.querySelector(".js-blob-filename");!t||N(t)}),(0,E.q6)(".js-blob-filename",function(t){const e=t.currentTarget;document.querySelector(".js-blob-contents").setAttribute("data-filename",e.value),X(e.value),N(e)}),(0,E.q6)(".js-breadcrumb-nav",function(t){const e=t.currentTarget;te(e),N(e)}),(0,g.N7)(".js-breadcrumb-nav",{constructor:HTMLInputElement,initialize(t){te(t),N(t)}}),(0,E.w4)("keydown",".js-breadcrumb-nav",function(t){const e=t.currentTarget;if(t.key==="Backspace"&&e.selectionStart===0&&e.selectionEnd===0){const n=e.parentElement;n&&n.querySelectorAll(".separator").length!==1&&(oe(e,!0),t.preventDefault())}N(e)});function N(t){xe(t),qe(t),P()}s(N,"syncFields");function te(t){function e(){t.focus(),t.setSelectionRange(0,0)}for(s(e,"setCaret");t.value.split("/").length>1;){const o=t.value.split("/"),r=o[0],a=o.slice(1).join("/");r===""||r==="."||r===".git"?(t.value=a,window.setTimeout(e,1)):r===".."?oe(t):Ae(t,r,a)}}s(te,"watchforSegmentChanges");function X(t){const e=ne();for(const n of document.querySelectorAll(".js-template-suggestion")){const o=n.getAttribute("data-template-suggestion-pattern");if(o){const a=new RegExp(o,"i").test(e+t);if(n.classList.toggle("d-none",!a),a){const l=n.querySelector("a[data-template-button]");if(!l)return;const d=new URL(l.href,window.location.origin);d.searchParams.set("filename",t),l.href=`${d.pathname}${d.search}`}}}}s(X,"checkForTemplateSuggestion");function qe(t){let e=!0,n=t.value?`Create ${t.value}`:"Create new file";const o=t.closest("form"),r=document.querySelector(".js-blob-contents"),a=o.querySelector(".js-new-blob-commit-summary");if(!a)return;const l=document.querySelector(".js-commit-message-fallback"),d=j.get(r),S=document.querySelector(".js-new-filename-field").value;if(d)if(S!==d){const q=H(r)?"Update and rename":"Rename";if(t.value.length&&S.length){const A=d.split("/"),R=S.split("/"),I=A.length-1;for(let D=0;D<A.length;D++){const W=A[D];D!==I&&W!==R[D]&&(e=!1)}A.length===R.length&&e?n=`${q} ${A[I]} to ${R[I]}`:n=`${q} ${d} to ${S}`}else n=`${q} ${d}`}else S===d&&(n=`Update ${t.value}`);a.setAttribute("placeholder",n),l.value=n}s(qe,"updateCommitPlaceholder");function xe(t){const e=ne()+t.value;document.querySelector(".js-new-filename-field").value=e}s(xe,"updateNewFilenameField");function ne(){let t="";for(const e of document.querySelectorAll(".js-breadcrumb-container > .js-path-segment"))t=`${t}${e.textContent}/`;return t}s(ne,"extractFilePath");function oe(t,e=!1){e||(t.value=t.value.replace("../",""));let n;const o=document.querySelector(".js-breadcrumb-container");function r(a,l=0){(l===0||a)&&(t.focus(),t.setSelectionRange(l,l))}if(s(r,"setCaret"),o.querySelectorAll(".separator").length!==1){t.previousElementSibling&&t.previousElementSibling.remove();const a=t.previousElementSibling;n=a.textContent.length,a.remove(),e&&(t.value=`${a.textContent}${t.value}`)}X(t.value),window.setTimeout(r,1,e,n)}s(oe,"filenameNavUp");function Ae(t,e,n){const o=e.trim(),r=document.querySelector(".js-breadcrumb-container");if(o.length>0){const l=r.querySelectorAll(".js-path-segment a");let d;l.length>1?d=l[l.length-1].pathname:d=r.querySelector(".js-repo-root a").pathname;const S=document.querySelector(".js-crumb-template").cloneNode(!0);S.classList.remove("js-crumb-template"),S.querySelector("a").href=d,S.querySelector("span").textContent=o;const L=document.querySelector(".js-crumb-separator").cloneNode(!0);L.classList.remove("js-crumb-separator"),t.before(S),t.before(L)}t.value=n,X(t.value);function a(){t.focus(),t.setSelectionRange(0,0)}s(a,"setCaret"),window.setTimeout(a,1)}s(Ae,"filenameNavDown"),(0,E.q6)(".js-new-blob-commit-summary",function(t){const e=t.currentTarget;e.closest(".js-file-commit-form").querySelector(".js-too-long-error").classList.toggle("d-none",e.value.length<=50)}),(0,g.N7)(".js-check-for-fork",function(t){const e=t.closest("form"),n=e.querySelector(".js-blob-submit");t.addEventListener("load",function(){c(e)===!0&&(n.disabled=!0)})}),(0,m.on)("click",".js-citation-template",async function(t){await re(t)}),(0,m.on)("change",".js-gitignore-template input[type=radio]",async function(t){await re(t)});async function re(t){const e=t.currentTarget.closest(".js-blob-form"),n=(0,v.P)(e.querySelector(".js-code-editor"));if(n==null)return;const o=t.currentTarget.getAttribute("data-template-url"),r=await fetch(o,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!r.ok)return;const a=await r.text();n.setCode(a)}s(re,"fetchAndInsertIntoEditor"),(0,g.N7)(".js-file-commit-form",function(t){if(new URLSearchParams(window.location.search.slice(1)).get("start_commit")==="true"){const n=t.querySelector(".js-details-target");n&&n.click()}});var ke=u(46263),G=u(56238),Pe=u(12981),V=u(35803),De=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,se=s((t,e,n,o)=>{for(var r=o>1?void 0:o?Oe(e,n):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(o?l(e,n,r):l(r))||r);return o&&r&&De(e,n,r),r},"__decorateClass");let Z=s(class extends HTMLElement{reasonSelected(){this.submitBtn.disabled=!1}copyBlobFields(){const t=document.querySelector(".js-blob-form"),e=document.querySelector(".js-bypass-form");if(!(!(t instanceof HTMLFormElement)||!(e instanceof HTMLFormElement))){this.createHiddenInputField(e,"value",document.querySelector(".js-blob-contents").value),this.createHiddenInputField(e,"description",document.querySelector("#commit-description-textarea").value);for(const n of t.elements)n instanceof HTMLInputElement&&n.name&&!n.name.includes("gitignore")&&n.name!=="authenticity_token"&&this.createHiddenInputField(e,n.name,n.value)}}createHiddenInputField(t,e,n){const o=document.createElement("input");o.type="hidden",o.name=e,o.id=`${e}_hidden`,o.value=n,t.appendChild(o),o.required=!0}},"BypassReasonSelectorElement");se([V.fA],Z.prototype,"submitBtn",2),Z=se([V.Ih],Z);var ie=u(40764);class ae{static annotateDiscoveredSecrets(e,n){if(!e)return;const o=JSON.parse(n);if(o.length===0||o[0].locations?.length===0)return;const r=o[0].locations[0],a=e.code().split(/\r?\n/),l=r.start_line-1,d=r.end_line-1;l>d||l<0||d>a.length||e.markText({line:l,ch:(0,ie.yb)(a[l],r.start_line_byte_position)},{line:d,ch:(0,ie.yb)(a[d],r.end_line_byte_position)},"CodeMirror-lint-mark-error")}}s(ae,"CodeEditorExtensions");var Ie=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,ce=s((t,e,n,o)=>{for(var r=o>1?void 0:o?Re(e,n):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(o?l(e,n,r):l(r))||r);return o&&r&&Ie(e,n,r),r},"blob_editor_decorateClass");const le=["loading-preview","show-preview","no-changes-preview","error-preview"],_e=["show-code"].concat(le);let z=s(class extends HTMLElement{async connectedCallback(){if(this.discoveredSecrets){const t=await(0,v.g)(this);ae.annotateDiscoveredSecrets(t,this.discoveredSecrets)}}},"BlobEditorElement");ce([V.Lj],z.prototype,"discoveredSecrets",2),z=ce([V.Ih],z);function He(t){return t.classList.contains("show-code")?"show-code":t.classList.contains("template-editor")?"template-editor":"preview"}s(He,"currentTab");function ue(t){const e=He(t);for(const o of t.querySelectorAll(".js-blob-edit-tab")){const r=o.getAttribute("data-tab")===e;o.classList.toggle("selected",r),r?o.setAttribute("aria-current","true"):o.removeAttribute("aria-current")}const n={name:e};(0,m.f)(document.querySelector(".js-file-editor-nav"),"tab:change",n)}s(ue,"selectCurrentTab");function Be(t){const e=[".md",".mkdn",".mkd",".mdown",".markdown"];for(const n of e)if(t.endsWith(n))return!0;return!1}s(Be,"isMarkdown");function B(t){return t.getAttribute("data-is-gist")==="true"}s(B,"isGist");function Fe(t,e){return(B(t)?t:e).querySelector(".js-blob-filename")}s(Fe,"getFilenameInput");function de(t,e,n){const o=Fe(t,e);B(t)?o.readOnly=!n:o.disabled=!n,o.style.cursor=n?"auto":"not-allowed"}s(de,"setFilenameEditable"),(0,E.w4)("keypress","input.js-blob-filename",function(t){if(t.key==="Enter"){const n=t.target.form.querySelector("select.js-code-indent-mode");n&&n.focus(),t.preventDefault()}});function fe(t){const n=t.closest(".file-header").querySelector(".js-file-editor-nav");n.hidden=!Be(t.value)}s(fe,"setPreviewTabVisibility"),(0,E.w4)("keyup",".js-code-editor[data-is-gist] input.js-blob-filename",function(t){const e=t.target;fe(e)}),(0,g.N7)(".js-branch-name-label-container",me),(0,g.N7)(".js-gist-filename",{add(t){fe(t)}});function Ne(t){const e=t.currentTarget.closest(".js-code-editor");if(e.classList.contains("show-code"))return;e.querySelector(".js-blob-edit-code").removeAttribute("data-hotkey"),U(e,"show-code"),ue(e);const n=(0,v.P)(e);n?(n.refresh(),n.focus()):e.classList.contains("js-mobile-code-editor")&&e.querySelector(".js-code-textarea").focus();const o=e.closest(".js-blob-form");de(e,o,!0)}s(Ne,"activateEditTab");function me(){const t=document.querySelector(".js-branch-name-label-container"),e=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked");t&&(e?t.hidden=!0:t.hidden=!1)}s(me,"setBranchNameLabel");function Ue(t,e){const n=e.querySelector(".js-preview-diff-toggle");return n&&n instanceof HTMLInputElement?!n.checked:$e(e)}s(Ue,"showSimpleDiff");function $e(t){return t.getAttribute("data-simplediff-enabled")==="true"}s($e,"isSimpleDiffFeatureEnabled");function he(t){const e=t.currentTarget.closest(".js-code-editor");if(!e.classList.contains("show-code")&&!e.classList.contains("template-editor"))return;e.querySelector(".js-blob-edit-code").setAttribute("data-hotkey","Control+P,Meta+P");const n=e.closest(".js-blob-form");return pe(e,n,!B(e),!B(e)&&Ue(t,e))}s(he,"activatePreviewTab");function We(t){const e=t.currentTarget;if(e instanceof HTMLInputElement){const n=e.checked,o=t.currentTarget.closest(".js-code-editor"),r=o.closest(".js-blob-form");return pe(o,r,!0,!n)}}s(We,"toggleDiffPreview"),(0,m.on)("click",".js-blob-edit-code",Ne),(0,m.on)("click",".js-blob-edit-preview",he),(0,m.on)("click",".js-preview-diff-toggle",We),(0,m.on)("codeEditor:preview",".js-code-textarea",function(t){t.currentTarget.closest(".js-code-editor").classList.contains("show-code")&&he(t)});function U(t,e){t.classList.remove(..._e),t.classList.add(e);const n=t.querySelector(".preview-actions");n instanceof HTMLElement&&(n.hidden=!le.includes(e))}s(U,"setState");let ge=null;async function pe(t,e,n,o){U(t,"loading-preview"),ue(t),de(t,e,!1);const r=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked"),a=document.querySelector(".js-blob-preview-form"),l=(0,v.P)(t);let d=null,S=1;if(l!=null)d=l.code(),S=l.editor.getCursor("from").line+1;else if(t.classList.contains("js-mobile-code-editor")){const q=t.querySelector(".js-code-textarea");d=q.value,S=d.substring(0,q.selectionStart).split(/\r?\n/).length}else return;B(t)?(0,G.DN)(a,{text:d}):(0,G.DN)(a,{code:d,commit:e.querySelector(".js-commit-oid").value,blobname:e.querySelector(".js-blob-filename").value,willcreatebranch:r.toString(),checkConflict:n.toString()}),ge?.abort();const{signal:L}=ge=new AbortController;try{const q=new URL(a.action,window.location.origin);o&&q.searchParams.append("avoiddiff","true");const A=await fetch(q.toString(),{method:a.method,body:new FormData(a),signal:L});if(!A.ok)throw new Error("network error");const R=await A.text();if(!t.classList.contains("loading-preview"))return;const I=(0,Pe.r)(document,R);let D=B(t)?I:I.querySelector(".data.highlight");if(D||(D=I.querySelector("#readme")),D||(D=I.querySelector(".js-preview-new-file")),D||(D=I.querySelector(".js-preview-msg")),!D&&(D=I.querySelector(".render-container"))&&D.classList.add("is-render-requested"),D){const W=t.querySelector(".js-commit-preview");W.innerHTML="",W.appendChild(D),U(t,"show-preview"),Ve(W,S)}else U(t,"no-changes-preview")}catch{t&&U(t,"error-preview")}}s(pe,"showPreview");function Ve(t,e){if(!t.querySelector(".markdown-body")||!t.querySelector("[data-sourcepos]"))return;let n=null;for(let o=e;o>=e-50&&(n=t.querySelector(`[data-sourcepos^="${o}:"]`),!n);o--);n?.scrollIntoView({block:"start"})}s(Ve,"scrollToEditPosition"),(0,m.on)("change",".js-quick-pull-choice-option",function(t){const e=t.currentTarget.value==="quick-pull",n=document.querySelector(".js-quick-pull-target-branch"),o=document.querySelector(".js-quick-pull-choice-value"),r=document.querySelector(".js-blob-submit");if(me(),e){const a=document.querySelector(".js-quick-pull-new-branch-name"),l=a.getAttribute("data-generated-branch");!a.value.length&&l&&(a.value=l),a.focus(),a.select(),n.value=a.value,o.value=n.getAttribute("data-default-value")||"",r.textContent=r.getAttribute("data-pull-text")||""}else n.value=n.getAttribute("data-default-value")||"",o.value="",r.textContent=r.getAttribute("data-edit-text")||""});let be=null,F=null;async function Ke(){const t=document.querySelector(".js-quick-pull-new-branch-name"),e=t.value,n=t.getAttribute("data-generated-branch"),o=document.querySelector(".js-quick-pull-normalization-info"),r=new FormData;r.append("ref",e);const a=t.getAttribute("data-check-url"),l=t.parentElement.querySelector(".js-data-check-url-csrf");be?.abort();const{signal:d}=be=new AbortController;try{const S=await fetch(a,{mode:"same-origin",method:"POST",body:r,signal:d,headers:{Accept:"application/json","Scoped-CSRF-Token":l.value}});if(!S.ok)throw new Error("network error");const L=await S.json();if(e!==t.value)return;const q=L.normalized_ref;if(o.innerHTML=L.message_html==null?"":L.message_html,!q){const A=o.querySelector("code");A.textContent=n}F&&(F.value=q)}catch{if(e!==t.value)return;F&&(F.value=e)}}s(Ke,"updateTargetBranch");const Xe=(0,ke.D)(Ke,200);(0,E.q6)(".js-quick-pull-new-branch-name",function(t){const e=t.target.value;F=document.querySelector(".js-quick-pull-target-branch"),F.value=e,e.length&&Xe()}),(0,m.on)("click","[data-template-button]",function(){window.onbeforeunload=null});var mt=u(71707),ht=u(14504),gt=u(52539),pt=u(40790),bt=u(14146),vt=u(87093),wt=u(55292),yt=u(81699),Et=u(32095),St=u(14568),jt=u(23350),Lt=u(74102),Ge=u(4631),x=u.n(Ge);const ve=document.querySelector("link[rel=assets]"),Ze=`${ve instanceof HTMLLinkElement&&ve.href||"/"}static/javascripts/codemirror%CONTRIB/mode/%N/%N.js?v=1`,Y={};function ze(t,e){let n=e;return()=>{--n===0&&t()}}s(ze,"splitCallback");function we(t,e){const n=x().modes[t].dependencies;if(!n)return e();const o=[];for(let a=0;a<n.length;++a)x().modes.hasOwnProperty(n[a])||o.push(n[a]);if(!o.length)return e();const r=ze(e,o.length);for(let a=0;a<o.length;++a)x().requireMode(o[a],r)}s(we,"ensureDeps");function Ye(t,e){if(x().modes.hasOwnProperty(t))return we(t,e);if(Y.hasOwnProperty(t))return Y[t].push(e);const n=x().findModeByName(t),o=n&&n.contrib?"/contrib":"",r=Ze.replace(/%CONTRIB/,o).replace(/%N/g,t);window.CodeMirror=x();const a=document.createElement("script");a.src=r,a.crossOrigin="anonymous",document.querySelector("meta[name=codemirror-crossorigin-credentials]")&&(a.crossOrigin="use-credentials");const d=document.getElementsByTagName("script")[0],S=Y[t]=[e];if(x().on(a,"load",()=>{we(t,()=>{for(let L=0;L<S.length;++L)S[L]()})}),d.parentNode==null)throw new Error("first script node must be in the document.");d.parentNode.insertBefore(a,d)}s(Ye,"requireMode");function Je(t,e){x().modes.hasOwnProperty(e)||x().requireMode(e,()=>{t.setOption("mode",t.getOption("mode"))})}s(Je,"autoLoadMode"),x().autoLoadMode=Je,x().requireMode=Ye,x().defineMode("conflict",(t,e)=>{const n={startState:()=>({insideConflict:!1}),token:(o,r)=>{if(o.sol()){if(o.match(/^<<<<<<</))return r.insideConflict=!0,o.skipToEnd(),"conflict-marker line-background-conflict-background";if(r.insideConflict&&o.match(/^=======/))return o.skipToEnd(),"conflict-marker line-background-conflict-background";if(r.insideConflict&&o.match(/^>>>>>>>/))return r.insideConflict=!1,o.skipToEnd(),"conflict-marker line-background-conflict-background"}return r.insideConflict?(o.next(),"line-background-conflict-background"):(o.next(),null)},blankLine:o=>o.insideConflict?"line-background-conflict-background":null};if(e.baseMode){const o=x().getMode(t,e.baseMode);if(o.name!=="null")return x().overlayMode(o,n,!0);const r=x().findModeByMIME(e.baseMode);x().autoLoadMode(e.editor,r.mode)}return n}),x().defineMIME("application/x-conflict","conflict");const J=x();var ye=u(66899);async function Ee(t){const e=t.getAttribute("data-language-detection-url");if(!e)return;const n=document.querySelector(".js-code-editor");if(!n)return;const o=btoa(encodeURIComponent(t.value)),r=new URL(e,window.location.origin),a=new URLSearchParams(r.search.slice(1));a.append("filename",o),r.search=a.toString();const l=await fetch(r.toString(),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!l.ok){const L=new Error,q=l.statusText?` ${l.statusText}`:"";throw L.message=`HTTP ${l.status}${q}`,L}const d=await l.json();(await(0,v.g)(n)).setMode(d.language)}s(Ee,"onFilenameChange"),(0,E.ZG)(".js-detect-filename-language",t=>{const e=t;(0,ye.oq)(e,Ee),t.addEventListener("blur",()=>(0,ye.iU)(e,Ee),{once:!0})});var Se=u(36162),Qe=u(5287),et=u(33948),tt=u(15205);const _=/Macintosh/.test(navigator.userAgent)?"Cmd":"Ctrl",nt="_",ot="**",rt="`",K=new WeakMap,st=(0,tt.Z)(s(async function(){const e=new Request("/autocomplete/emojis_for_editor",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),n=await fetch(e);if(n.status!==200)throw new Error(`emoji request failed with a ${n.status}`);const o=[],r=await n.json();for(const a of Object.keys(r)){const l={text:`${a}:`,render:d=>(0,Se.sY)(Se.dy`<img class="emoji emoji-result" height="20" width="20" align="absmiddle" src="${r[a][0]}" alt=":${a}:" async></img> ${a}`,d),hint:(d,S,L)=>{if(r[a].length===2){const q=L.from||S.from,A={ch:q.ch-1,line:q.line};d.replaceRange(r[a][1],A,L.to||S.to,"complete")}else d.replaceRange(L.text,L.from||S.from,L.to||S.to,"complete")}};o.push(l)}return o},"getEmojis"));class je{constructor(e){if(this.hintIsOpen=!1,this.container=e,!this.container)return;this.container.setAttribute("data-editor-loaded",""),this.textarea=this.container.querySelector(".js-code-textarea"),this.filename=this.textarea.getAttribute("data-filename")||"";const n=this.textarea.value,o=this.textarea.getAttribute("data-codemirror-mode"),r=this.textarea.getAttribute("data-codemirror-fixed-height")==="true";this.mergeMode=this.textarea.getAttribute("data-merge-mode")==="true";const a=this.textarea.clientHeight;this.textarea.style.display="none";const l={lineNumbers:!0,value:n,inputStyle:"contenteditable",theme:"github-light"};this.mergeMode&&(l.gutters=["CodeMirror-linenumbers","merge-gutter"]);const d=this.textarea.parentElement;this.editor=x()(d,l);const S=this.textarea.getAttribute("data-hotkey-scope-id")||"code-editor";if(this.editor.getInputField().setAttribute("id",S),a!==0&&r){const L=this.container.querySelector(".CodeMirror");L&&(L.style.height=`${a}px`)}this.setMode(o),this.setupKeyBindings(),this.setupFormBindings(),this.setupControlBindings(),this.setupScrollOnHashChange()}code(){return this.editor.getValue()}setCode(e){this.editor.setValue(e)}refresh(){this.editor.refresh()}focus(){this.editor.focus()}blur(){this.editor.getInputField().blur()}getDocument(){return this.editor.getDoc()}on(e,n){this.container.addEventListener(e,n)}off(e,n){this.container.removeEventListener(e,n)}setDocument(e){this.editor.swapDoc(e),!(e.modeOption&&typeof e.modeOption.name<"u")&&this.setMode(e.modeOption)}async loading(e){this.editor.setOption("readOnly",!0),await e(),window.onbeforeunload=null,this.editor.setOption("readOnly",!1)}setMode(e){let n=e;this.mergeMode&&(n={name:"conflict",baseMode:n,editor:this.editor}),n==="text/x-gfm"?this.editor.setOption("mode",{name:"gfm",gitHubSpice:!1}):this.editor.setOption("mode",n);const o=this.container.querySelector(".drag-and-drop");if(o){const r=!(n==="text/x-gfm"||n==="text/x-markdown");o.hidden=r,this.editor.setOption("dragDrop",r)}if(n&&!this.mergeMode){const r=x().findModeByMIME(n);x().autoLoadMode(this.editor,r.mode)}}setConfirmUnloadMessage(e){this.confirmUnload=function(){return e}}clearConfirmUnloadMessage(){this.confirmUnload=void 0,window.onbeforeunload=null}setupFormBindings(){const e=s((o,r)=>{this.confirmUnload&&(window.onbeforeunload=this.confirmUnload),(0,G.Se)(this.textarea,this.code()),this.isMarkdown(o)&&this.emojiComplete(o),(0,m.f)(this.container,"change",{editor:o,changes:r})},"changeHandler");this.editor.on("change",e),this.editor.on("swapDoc",e);const n=s((o,r,a)=>{this.isMarkdown(o)&&a.setAttribute("dir","auto")},"renderLineHandler");if(this.editor.on("renderLine",n),this.confirmUnload){const o=this.textarea.closest("form");if(o==null)return;o.addEventListener("submit",()=>{window.onbeforeunload=null})}this.editor.on("paste",(o,r)=>{K.get(o)||this.insertSelectedTextLink(o,r),K.set(o,!1)})}setupControlBindings(){const e=this.container.querySelector(".js-code-indent-width"),n=this.container.querySelector(".js-code-wrap-mode"),o=this.container.querySelector(".js-code-indent-mode");this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value)),this.editor.setOption("lineWrapping",n.value==="on"),this.editor.setOption("indentWithTabs",o.value!=="space"),e.addEventListener("change",()=>{this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value))}),n.addEventListener("change",()=>{this.editor.setOption("lineWrapping",n!=null&&n.value==="on")}),o.addEventListener("change",()=>{this.editor.setOption("indentWithTabs",o.value!=="space")})}setupKeyBindings(){this.editor.addKeyMap({Enter:e=>{e.execCommand("newlineAndIndentContinueMarkdownList")},Tab:e=>{if(e.somethingSelected()){e.indentSelection("add");return}this.container.querySelector(".js-code-indent-mode").value!=="space"?e.replaceSelection("	","end","+input"):e.execCommand("insertSoftTab")},"Shift-Tab":e=>{e.indentSelection("subtract")},"Cmd-/":"toggleComment","Ctrl-/":"toggleComment","Shift-Cmd-P":()=>{this.blur(),(0,m.f)(this.textarea,"codeEditor:preview")},[`${_}-I`]:e=>this.insertMdToken(e,nt),[`${_}-B`]:e=>this.insertMdToken(e,ot),[`${_}-E`]:e=>this.insertMdToken(e,rt),[`${_}-K`]:e=>this.insertMdLink(e),[`Shift-${_}-.`]:e=>this.toggleMdList(e,">"),[`Shift-${_}-7`]:e=>this.toggleMdList(e,"ol"),[`Shift-${_}-8`]:e=>this.toggleMdList(e,"-"),[`Shift-${_}-Alt-V`]:e=>(K.set(e,!0),x().Pass),[`Shift-${_}-V`]:e=>(K.set(e,!0),x().Pass)}),(0,Qe.Ty)()||delete x().keyMap.default["Alt-G"]}setupScrollOnHashChange(){(0,et.Z)(()=>{const e=at(window.location.hash);e.length>0&&(this.focus(),this.editor.setCursor({line:e[0]-1,ch:0},{scroll:!0}))})}isMarkdown(e){const n=e.getMode().name;return n==="gfm"||n==="markdown"}insertMdToken(e,n){if(!this.isMarkdown(e))return;const o=e.getSelection();if(o)e.replaceSelection(n+o+n);else{const r=e.getCursor();e.replaceRange(n.repeat(2),r),e.setCursor({line:r.line,ch:r.ch+n.length})}}toggleMdList(e,n){if(!this.isMarkdown(e))return;const o=e.getCursor("from"),r=e.getCursor("to"),a=e.getRange({line:o.line,ch:0},r),l=new RegExp(`^${n==="ol"?"\\d+\\.":n}\\s`);if(a){const d=a.split(`
`),S=d.every(L=>l.test(L));for(let L=0;L<d.length;L++){const q=o.line+L;if(S){const A=d[L].match(l);A&&e.replaceRange("",{line:q,ch:0},{line:q,ch:A[0].length})}else{const A=`${n==="ol"?`${L+1}.`:n} `;e.replaceRange(A,{line:q,ch:0})}}}else{const d=e.getLine(o.line).match(l);if(d)e.replaceRange("",{line:o.line,ch:0},{line:o.line,ch:d[0].length});else{const S=`${n==="ol"?"1.":n} `;e.replaceRange(S,{line:o.line,ch:0})}}}insertMdLink(e){if(!this.isMarkdown(e))return;const n=e.getSelection();if(n){const o=e.listSelections();if(e.replaceSelection(`[${n}](url)`),o.length===1&&o[0].from().line===o[0].to().line){const r=o[0],a={line:r.from().line,ch:Math.max(r.from().ch,r.to().ch)};e.setSelection({ch:a.ch+3,line:a.line},{ch:a.ch+6,line:a.line})}}else{const o=e.getCursor();e.replaceRange("[](url)",o),e.setCursor({line:o.line,ch:o.ch+1})}}insertSelectedTextLink(e,n){if(!this.isMarkdown(e))return;const o=e.getSelection(),r=n.clipboardData,a=4;if(o&&r){const l=r.getData("text/plain");if(!this.isURL(l))return;if(l){const d=e.getCursor();e.replaceSelection(`[${o}](${l})`),e.setCursor({line:d.line,ch:d.ch+l.length+a}),n.preventDefault()}}}isURL(e){return/^https?:\/\//i.test(e)}async emojiComplete(e){const n=e.getCursor();if(this.hintIsOpen&&this.isTokenColon(e,n)&&!this.colonShowsEmojiPicker(e,n)&&(this.hintIsOpen=!1),!(!this.colonShowsEmojiPicker(e,n)&&!this.hintIsOpen))try{const o=await st();x().showHint(e,()=>{this.hintIsOpen=!0;const r=e.getCursor(),a=e.getTokenAt(r),l=r.ch;let d=r.ch;const S=r.line;let L=a.string;for(;d-- >-1;){const q=e.getTokenAt({ch:d,line:S}).string;if(q===":")return{list:o.filter(R=>R.text.indexOf(L)!==-1),from:x().Pos(S,d),to:x().Pos(S,l)};L=q+L}return{list:[],from:x().Pos(S,0),to:x().Pos(S,l)}},{completeSingle:!1})}catch{}}isFirstCharacterOnLine(e){return e.ch===1}isPreviousCharacterSpace(e,n){const o=this.previousCharacter(e,n);return/\s/.test(o)}isTokenColon(e,n){return e.getTokenAt(n).string===":"}previousCharacter(e,n){return e.getRange({line:n.line,ch:n.ch-2},{line:n.line,ch:n.ch-1})}colonShowsEmojiPicker(e,n){return this.isFirstCharacterOnLine(n)||this.isPreviousCharacterSpace(e,n)}markText(e,n,o){return this.editor.markText(e,n,{className:o})}}s(je,"CodeEditor");function it(t){if((0,v.P)(t)||t.hasAttribute("data-editor-loaded")||t.classList.contains("js-mobile-code-editor"))return;const e=new je(t);let n=t.getAttribute("data-github-confirm-unload")||"";(n==="yes"||n==="true")&&(n=""),n==="no"||n==="false"||e.setConfirmUnloadMessage(n),(0,m.f)(t,"codeEditor:ready",{editor:e})}s(it,"loadEditor"),(0,g.N7)(".js-code-editor",{constructor:HTMLElement,add:it});function at(t){let e,n;const o=t.match(/#?(?:L|-)(\d+)/gi);if(o){const r=[];for(e=0,n=o.length;e<n;e++){const a=o[e];r.push(parseInt(a.replace(/\D/g,"")))}return r}else return[]}s(at,"parseLineRange");var ct=u(29719),lt=u(52641),ut=u(25833);function Le(t){return document.querySelector(".js-resolve-conflicts-form").elements.namedItem(t)}s(Le,"persistenceKeyFor");const Te=new WeakMap;function $(t){const e=Le(t);return Te.get(e)}s($,"getFileData");function dt(t,e){Te.set(Le(t),e)}s(dt,"setFileData");async function Q(t){const e=document.querySelector(".js-code-editor");if(!(e instanceof HTMLElement))return;const n=await(0,v.g)(e);function o(){const l=`files[${t.getAttribute("data-filename")||""}]`,d=$(l);if(d==null)throw new Error("Expected file data to be loaded and was not");Ce(d)}s(o,"onChange"),n.off("change",o),n.on("change",o);const r=e.closest(".js-conflict-resolver");r!=null&&(r.classList.add("loading"),n.loading(async()=>{const a=t.getAttribute("data-filename");if(!a)return;const l=`files[${a}]`,d=document.querySelector(".js-resolve-file-form");d.elements.namedItem("filename").value=l,d.querySelector(".js-filename").textContent=decodeURIComponent(a),d.classList.toggle("is-resolved",t.classList.contains("resolved"));for(const q of t.parentNode.children)q.classList.toggle("selected",q===t);let S=$(l);if(!S){const q=await fetch(t.href,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!q.ok){const R=new Error,I=q.statusText?` ${q.statusText}`:"";throw R.message=`HTTP ${q.status}${I}`,R}const A=await q.json();S={document:J.Doc(A.conflicted_file.data,A.conflicted_file.codemirror_mime_type),headDocument:J.Doc(A.head.data,A.head.codemirror_mime_type),baseDocument:J.Doc(A.base.data,A.base.codemirror_mime_type),conflicts:[]},Ce(S),dt(l,S)}r.classList.remove("loading"),n.setDocument(S.document),document.querySelector(".js-code-editor .js-conflict-count").textContent=new Intl.NumberFormat("en-US").format(S.conflicts.length);const L=document.querySelector(".js-code-editor .js-conflict-label");L.textContent=L.getAttribute(S.conflicts.length===1?"data-singular-string":"data-plural-string"),ee(!0)}))}s(Q,"setupResolverFor");function Ce(t){let e={};t.conflicts=[],t.document.eachLine(n=>{if(!n)return;const o=t.document;if(o.setGutterMarker(n,"merge-gutter",null),!e.start&&/^<<<<<<</.test(n.text)?e.start=n:e.start&&/^=======/.test(n.text)?e.middle=n:e.start&&/^>>>>>>>/.test(n.text)&&(e.end=n),e.start){let r=".js-line";e.start===n?r=".js-start":e.middle===n?r=".js-middle":e.end===n&&(r=".js-end");const a=document.querySelector(`.js-conflict-gutters ${r}`).cloneNode(!0);o.setGutterMarker(n,"merge-gutter",a)}e.end&&(t.conflicts.push(e),e={})})}s(Ce,"findAndMarkConflicts");function ee(t){const n=document.querySelector(".js-resolve-file-form").elements.namedItem("filename").value,o=$(n);if(o==null)throw new Error("Expected file data to be loaded and was not");const r=o.document.getCursor().line,a=o.conflicts;let l=null;for(let d=t?0:a.length-1;t?d<a.length:d>=0;t?d++:d--){const S=a[d].middle;if(S==null)continue;const L=o.document.getLineNumber(S);if(t&&L>r||!t&&L<r){l=L;break}}l!=null&&o.document.setCursor(l,0),o.document.getEditor().focus()}s(ee,"goToConflict"),(0,m.on)("click","a.js-conflicted-file",function(t){const e=t.currentTarget;t.preventDefault(),Q(e)}),(0,m.on)("click",".js-prev-conflict",function(t){ee(!1),t.preventDefault()}),(0,m.on)("click",".js-next-conflict",function(t){ee(!0),t.preventDefault()}),(0,m.on)("submit","form.js-resolve-file-form",function(t){const e=t.currentTarget;if(t.preventDefault(),e.querySelector("button.js-mark-resolved").classList.contains("disabled"))return;const n=document.querySelector(".js-conflicted-file.selected");n&&n.classList.add("resolved");const o=document.querySelectorAll(".js-conflicted-file.resolved").length,r=document.querySelectorAll(".js-conflicted-file").length;if(o===r){const l=document.querySelector(".js-resolve-conflicts-complete");l&&l.classList.remove("d-none");const d=document.querySelector(".js-resolve-file-form");d&&d.classList.add("is-resolved")}let a=n;if(a!=null)do a=a.nextElementSibling;while(a&&!a.classList.contains("js-conflicted-file"));if(a instanceof HTMLAnchorElement)return Q(a)}),(0,m.on)("submit","form.js-resolve-conflicts-form",async function(t){const e=t.currentTarget;t.preventDefault(),await(0,ut.Z)();const n=new FormData(e),o=e.querySelectorAll("input.js-file");for(const l of o){const d=$(l.name);if(d==null)throw new Error("Expected file data to be loaded and was not");n.append(l.name,d.document.getValue())}const r=await fetch(e.action,{method:"POST",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!r.ok){const l=new Error,d=r.statusText?` ${r.statusText}`:"";throw l.message=`HTTP ${r.status}${d}`,l}const a=await r.json();try{if(a.error)throw new Error(a.error);await(0,ct.D)(a.job.url);const l=document.querySelector(".js-code-editor");(await(0,v.g)(l)).clearConfirmUnloadMessage(),window.location.pathname+="/.."}catch{const d=document.querySelector(".js-resolve-conflicts-complete");d&&d.classList.toggle("d-none");const S=document.querySelector(".js-resolve-conflicts-failed");S&&S.classList.toggle("d-none")}}),(0,m.on)("change",".js-conflict-resolver .js-code-editor",async function(t){const e=t.currentTarget,n=await(0,v.g)(e),r=document.querySelector(".js-resolve-file-form").elements.namedItem("filename").value,a=$(r);if(a==null)throw new Error("Expected file data to be loaded and was not");const l=a.conflicts.length!==0||/^[<>]{7}/m.test(n.code()),d=e.querySelector("button.js-mark-resolved");d.classList.toggle("disabled",l),d.classList.toggle("tooltipped",l);const S=l?d.getAttribute("data-disabled-label"):"";S&&d.setAttribute("aria-label",S)}),(0,g.N7)(".js-conflict-list",function(t){const e=t.querySelector(".js-conflicted-file");e instanceof HTMLAnchorElement&&Q(e);const n=document.querySelector(".new-discussion-timeline");n&&(n.classList.remove("px-3"),n.classList.add("p-0"))}),(0,m.on)("change",".js-conflict-resolution-choice-option",function(t){const e=t.target,n=e.closest(".js-resolve-conflicts-form"),o=n.querySelector(".js-resolve-conflicts-button"),r=n.querySelector(".js-quick-pull-new-branch-name");e.value==="direct"?(o.textContent=o.getAttribute("data-update-text"),o.removeAttribute("data-disable-invalid"),o.removeAttribute("disabled"),r.setAttribute("disabled","true")):(o.textContent=o.getAttribute("data-new-branch-text"),o.setAttribute("data-disable-invalid","true"),r.removeAttribute("disabled"),(0,lt.G)(n))})},7679:(k,M,u)=>{u.d(M,{H:()=>g,v:()=>v});var E=u(59753);function v(){const m=document.getElementById("ajax-error-message");m&&(m.hidden=!1)}s(v,"showGlobalError");function g(){const m=document.getElementById("ajax-error-message");m&&(m.hidden=!0)}s(g,"hideGlobalError"),(0,E.on)("deprecatedAjaxError","[data-remote]",function(m){const p=m.detail,{error:j,text:f}=p;m.currentTarget===m.target&&(j==="abort"||j==="canceled"||(/<html/.test(f)?(v(),m.stopImmediatePropagation()):setTimeout(function(){m.defaultPrevented||v()},0)))}),(0,E.on)("deprecatedAjaxSend","[data-remote]",function(){g()}),(0,E.on)("click",".js-ajax-error-dismiss",function(){g()})},33948:(k,M,u)=>{u.d(M,{Z:()=>m});var E=u(7739);const v=[];let g=0;function m(i){(async function(){v.push(i),await E.x,p()})()}s(m,"hashChange"),m.clear=()=>{v.length=g=0};function p(){const i=g;g=v.length,j(v.slice(i),null,window.location.href)}s(p,"runRemainingHandlers");function j(i,c,h){const T=window.location.hash.slice(1),b=T?document.getElementById(T):null,y={oldURL:c,newURL:h,target:b};for(const C of i)C.call(null,y)}s(j,"runHandlers");let f=window.location.href;window.addEventListener("popstate",function(){f=window.location.href}),window.addEventListener("hashchange",function(i){const c=window.location.href;try{j(v,i.oldURL||f,c)}finally{f=c}});let w=null;document.addEventListener("pjax:start",function(){w=window.location.href}),document.addEventListener("pjax:end",function(){j(v,w,window.location.href)})},52641:(k,M,u)=>{u.d(M,{G:()=>w});var E=u(45075),v=u(64463),g=u(59753);const m=["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]","input[data-required-value]","textarea[data-required-value]"].join(",");function p(i){const c=i.getAttribute("data-required-value"),h=i.getAttribute("data-required-value-prefix");if(i.value===c)i.setCustomValidity("");else{let T=c;h&&(T=h+T),i.setCustomValidity(T)}}s(p,"checkValidityForRequiredValueField"),(0,E.q6)("[data-required-value]",function(i){const c=i.currentTarget;p(c)}),(0,g.on)("change","[data-required-value]",function(i){const c=i.currentTarget;p(c),w(c.form)}),(0,E.q6)("[data-required-trimmed]",function(i){const c=i.currentTarget;c.value.trim()===""?c.setCustomValidity(c.getAttribute("data-required-trimmed")):c.setCustomValidity("")}),(0,g.on)("change","[data-required-trimmed]",function(i){const c=i.currentTarget;c.value.trim()===""?c.setCustomValidity(c.getAttribute("data-required-trimmed")):c.setCustomValidity(""),w(c.form)}),(0,E.ZG)(m,i=>{let c=i.checkValidity();function h(){const T=i.checkValidity();T!==c&&i.form&&w(i.form),c=T}s(h,"inputHandler"),i.addEventListener("input",h),i.addEventListener("blur",s(function T(){i.removeEventListener("input",h),i.removeEventListener("blur",T)},"blurHandler"))});const j=new WeakMap;function f(i){j.get(i)||(i.addEventListener("change",()=>w(i)),j.set(i,!0))}s(f,"installHandlers");function w(i){const c=i.checkValidity();for(const h of i.querySelectorAll("button[data-disable-invalid]"))h.disabled=!c}s(w,"validate"),(0,v.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(i){const c=i.form;c&&(f(c),i.disabled=!c.checkValidity())}}),(0,v.N7)("input[data-required-change], textarea[data-required-change]",function(i){const c=i,h=c.type==="radio"&&c.form?c.form.elements.namedItem(c.name).value:null;function T(b){const y=c.form;if(b&&c.type==="radio"&&y&&h)for(const C of y.elements.namedItem(c.name))C instanceof HTMLInputElement&&C.setCustomValidity(c.value===h?"unchanged":"");else c.setCustomValidity(c.value===(h||c.defaultValue)?"unchanged":"")}s(T,"customValidity"),c.addEventListener("input",T),c.addEventListener("change",T),T(),c.form&&w(c.form)}),document.addEventListener("reset",function(i){if(i.target instanceof HTMLFormElement){const c=i.target;setTimeout(()=>w(c))}})},5287:(k,M,u)=>{u.d(M,{Ty:()=>v,YE:()=>g,Zf:()=>m});var E=u(11793);const v=s(()=>{const p=document.querySelector("meta[name=keyboard-shortcuts-preference]");return p?p.content==="all":!0},"areCharacterKeyShortcutsEnabled"),g=s(p=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(p)||p.includes("Alt")&&p.includes("Shift"),"isNonCharacterKeyShortcut"),m=s(p=>{const j=(0,E.EL)(p);return v()?!0:g(j)},"isShortcutAllowed")},35889:(k,M,u)=>{u.d(M,{P:()=>g,g:()=>m});var E=u(59753);const v=new WeakMap;function g(f){return v.get(f)}s(g,"getCodeEditor");async function m(f){return v.get(f)||p(await j(f,"codeEditor:ready"))}s(m,"getAsyncCodeEditor");function p(f){if(!(f instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const w=f.detail.editor;if(!f.target)throw new Error("assert: event.target is null");return v.set(f.target,w),w}s(p,"onEditorFromEvent"),(0,E.on)("codeEditor:ready",".js-code-editor",p);function j(f,w){return new Promise(i=>{f.addEventListener(w,i,{once:!0})})}s(j,"nextEvent")},12737:(k,M,u)=>{u.d(M,{W:()=>v});var E=u(59753);async function v(g){const p=document.querySelector("#site-details-dialog").content.cloneNode(!0),j=p.querySelector("details"),f=j.querySelector("details-dialog"),w=j.querySelector(".js-details-dialog-spinner");g.detailsClass&&j.classList.add(...g.detailsClass.split(" ")),g.dialogClass&&f.classList.add(...g.dialogClass.split(" ")),g.label?f.setAttribute("aria-label",g.label):g.labelledBy&&f.setAttribute("aria-labelledby",g.labelledBy),document.body.append(p);const i=await g.content;return w.remove(),f.prepend(i),j.addEventListener("toggle",()=>{j.hasAttribute("open")||((0,E.f)(f,"dialog:remove"),j.remove())}),f}s(v,"dialog")},7739:(k,M,u)=>{u.d(M,{C:()=>v,x:()=>E});const E=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(g=>{document.addEventListener("DOMContentLoaded",()=>{g()})})}(),v=function(){return document.readyState==="complete"?Promise.resolve():new Promise(g=>{window.addEventListener("load",g)})}()},29719:(k,M,u)=>{u.d(M,{D:()=>m,a:()=>g});var E=u(17463),v=u(12981);async function g(p,j,f){const w=new Request(j,f);w.headers.append("X-Requested-With","XMLHttpRequest");const i=await self.fetch(w);if(i.status<200||i.status>=300)throw new Error(`HTTP ${i.status}${i.statusText||""}`);return(0,E.t)((0,E.P)(p),i),(0,v.r)(p,await i.text())}s(g,"fetchSafeDocumentFragment");function m(p,j,f=1e3){return s(async function w(i){const c=new Request(p,j);c.headers.append("X-Requested-With","XMLHttpRequest");const h=await self.fetch(c);if(h.status<200||h.status>=300)throw new Error(`HTTP ${h.status}${h.statusText||""}`);if(h.status===200)return h;if(h.status===202)return await new Promise(T=>setTimeout(T,i)),w(i*1.5);throw new Error(`Unexpected ${h.status} response status from poll endpoint`)},"poll")(f)}s(m,"fetchPoll")},56238:(k,M,u)=>{u.d(M,{Bt:()=>p,DN:()=>w,KL:()=>h,Se:()=>f,qC:()=>T,sw:()=>i});var E=u(59753),v=u(2061),g=u(7679);(0,E.on)("click",".js-remote-submit-button",async function(b){const C=b.currentTarget.form;b.preventDefault();let P;try{P=await fetch(C.action,{method:C.method,body:new FormData(C),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}P&&!P.ok&&(0,g.v)()});function m(b,y,C){return b.dispatchEvent(new CustomEvent(y,{bubbles:!0,cancelable:C}))}s(m,"fire");function p(b,y){y&&(j(b,y),(0,v.j)(y)),m(b,"submit",!0)&&b.submit()}s(p,"requestSubmit");function j(b,y){if(!(b instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(y instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(y.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!b||b!==y.form)throw new Error("The specified element is not owned by the form element.")}s(j,"checkButtonValidity");function f(b,y){if(typeof y=="boolean")if(b instanceof HTMLInputElement)b.checked=y;else throw new TypeError("only checkboxes can be set to boolean value");else{if(b.type==="checkbox")throw new TypeError("checkbox can't be set to string value");b.value=y}m(b,"change",!1)}s(f,"changeValue");function w(b,y){for(const C in y){const P=y[C],O=b.elements.namedItem(C);(O instanceof HTMLInputElement||O instanceof HTMLTextAreaElement)&&(O.value=P)}}s(w,"fillFormValues");function i(b){if(!(b instanceof HTMLElement))return!1;const y=b.nodeName.toLowerCase(),C=(b.getAttribute("type")||"").toLowerCase();return y==="select"||y==="textarea"||y==="input"&&C!=="submit"&&C!=="reset"||b.isContentEditable}s(i,"isFormField");function c(b){return new URLSearchParams(b)}s(c,"searchParamsFromFormData");function h(b,y){const C=new URLSearchParams(b.search),P=c(y);for(const[O,H]of P)C.append(O,H);return C.toString()}s(h,"combineGetFormSearchParams");function T(b){return c(new FormData(b)).toString()}s(T,"serialize")},17463:(k,M,u)=>{u.d(M,{P:()=>E,t:()=>g});function E(m){const p=[...m.querySelectorAll("meta[name=html-safe-nonce]")].map(j=>j.content);if(p.length<1)throw new Error("could not find html-safe-nonce on document");return p}s(E,"getDocumentHtmlSafeNonces");class v extends Error{constructor(p,j){super(`${p} for HTTP ${j.status}`);this.response=j}}s(v,"ResponseError");function g(m,p,j=!1){const f=p.headers.get("content-type")||"";if(!j&&!f.startsWith("text/html"))throw new v(`expected response with text/html, but was ${f}`,p);if(j&&!(f.startsWith("text/html")||f.startsWith("application/json")))throw new v(`expected response with text/html or application/json, but was ${f}`,p);const w=p.headers.get("x-html-safe");if(w){if(!m.includes(w))throw new v("response X-HTML-Safe nonce did not match",p)}else throw new v("missing X-HTML-Safe nonce",p)}s(g,"verifyResponseHtmlSafeNonce")},45075:(k,M,u)=>{u.d(M,{ZG:()=>p,q6:()=>f,w4:()=>j});var E=u(8439);let v=!1;const g=new E.Z;function m(w){const i=w.target;if(i instanceof HTMLElement&&i.nodeType!==Node.DOCUMENT_NODE)for(const c of g.matches(i))c.data.call(null,i)}s(m,"handleFocus");function p(w,i){v||(v=!0,document.addEventListener("focus",m,!0)),g.add(w,i),document.activeElement instanceof HTMLElement&&document.activeElement.matches(w)&&i(document.activeElement)}s(p,"onFocus");function j(w,i,c){function h(T){const b=T.currentTarget;!b||(b.removeEventListener(w,c),b.removeEventListener("blur",h))}s(h,"blurHandler"),p(i,function(T){T.addEventListener(w,c),T.addEventListener("blur",h)})}s(j,"onKey");function f(w,i){function c(h){const{currentTarget:T}=h;!T||(T.removeEventListener("input",i),T.removeEventListener("blur",c))}s(c,"blurHandler"),p(w,function(h){h.addEventListener("input",i),h.addEventListener("blur",c)})}s(f,"onInput")},12981:(k,M,u)=>{u.d(M,{r:()=>E});function E(v,g){const m=v.createElement("template");return m.innerHTML=g,v.importNode(m.content,!0)}s(E,"parseHTML")},2061:(k,M,u)=>{u.d(M,{j:()=>E,u:()=>v});function E(g){const m=g.closest("form");if(!(m instanceof HTMLFormElement))return;let p=v(m);if(g.name){const j=g.matches("input[type=submit]")?"Submit":"",f=g.value||j;p||(p=document.createElement("input"),p.type="hidden",p.classList.add("is-submit-button-value"),m.prepend(p)),p.name=g.name,p.value=f}else p&&p.remove()}s(E,"persistSubmitButtonValue");function v(g){const m=g.querySelector("input.is-submit-button-value");return m instanceof HTMLInputElement?m:null}s(v,"findPersistedSubmitButtonValue")},25833:(k,M,u)=>{u.d(M,{Z:()=>T});var E=u(12737),v=u(29719),g=u(64463);function m(b){return new Promise(y=>{b.addEventListener("dialog:remove",y,{once:!0})})}s(m,"waitForDialogClose");function p(b){const y=document.querySelector(".sso-modal");!y||(y.classList.remove("success","error"),b?y.classList.add("success"):y.classList.add("error"))}s(p,"setModalStatus");function j(b){const y=document.querySelector("meta[name=sso-expires-around]");y&&y.setAttribute("content",b)}s(j,"updateExpiresAroundTag");async function f(){const b=document.querySelector("link[rel=sso-modal]"),y=await(0,E.W)({content:(0,v.a)(document,b.href),dialogClass:"sso-modal"});let C=null;const P=window.external;if(P.ssoComplete=function(O){O.error?(C=!1,p(C)):(C=!0,p(C),j(O.expiresAround),window.focus()),P.ssoComplete=null},await m(y),!C)throw new Error("sso prompt canceled")}s(f,"ssoPrompt"),(0,g.N7)(".js-sso-modal-complete",function(b){if(window.opener&&window.opener.external.ssoComplete){const y=b.getAttribute("data-error"),C=b.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:y,expiresAround:C}),window.close()}else{const y=b.getAttribute("data-fallback-url");y&&(window.location.href=y)}});function w(b){if(!(b instanceof HTMLMetaElement))return!0;const y=parseInt(b.content);return new Date().getTime()/1e3>y}s(w,"expiresSoon");async function i(){const b=document.querySelector("link[rel=sso-session]"),y=document.querySelector("meta[name=sso-expires-around]");if(!(b instanceof HTMLLinkElement)||!w(y))return!0;const C=b.href;return await(await fetch(C,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json()}s(i,"fetchSsoStatus");let c=null;function h(){c=null}s(h,"clearActiveSsoPrompt");async function T(){await i()||(c||(c=f().then(h).catch(h)),await c)}s(T,"__WEBPACK_DEFAULT_EXPORT__")},40764:(k,M,u)=>{u.d(M,{Om:()=>m,lp:()=>v,rq:()=>E,t4:()=>g,yb:()=>j});function E(f){const w="\u200D",i=f.split(w);let c=0;for(const h of i)c+=Array.from(h.split(/[\ufe00-\ufe0f]/).join("")).length;return c/i.length}s(E,"getUtf8StringLength");function v(f,w,i){let c=f.value.substring(0,f.selectionEnd||0),h=f.value.substring(f.selectionEnd||0);return c=c.replace(w,i),h=h.replace(w,i),p(f,c+h,c.length),i}s(v,"replaceText");function g(f,w,i){if(f.selectionStart===null||f.selectionEnd===null)return v(f,w,i);const c=f.value.substring(0,f.selectionStart),h=f.value.substring(f.selectionEnd);return p(f,c+i+h,c.length),i}s(g,"replaceSelection");function m(f,w,i={}){const c=f.selectionEnd||0,h=f.value.substring(0,c),T=f.value.substring(c),b=f.value===""||h.match(/\n$/)?"":`
`,y=i.appendNewline?`
`:"",C=b+w+y;f.value=h+C+T;const P=c+C.length;return f.selectionStart=P,f.selectionEnd=P,f.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),f.focus(),C}s(m,"insertText");function p(f,w,i){f.value=w,f.selectionStart=i,f.selectionEnd=i,f.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}s(p,"setTextareaValueAndCursor");function j(f,w){const i=[...f],c=new TextEncoder,h=new Uint8Array(4);for(let T=0;T<i.length;T++){const b=i[T],{written:y,read:C}=c.encodeInto(b,h);if(!y||!C)return-1;const P=y-C;if(P!==0&&(T<w&&(w-=P),T>=w))break}return w}s(j,"GetCharIndexFromBytePosition")},66899:(k,M,u)=>{u.d(M,{dY:()=>w,iU:()=>f,oq:()=>j});const E=new WeakMap;function v(i){const c=E.get(i);!c||(c.timer!=null&&clearTimeout(c.timer),c.timer=window.setTimeout(()=>{c.timer!=null&&(c.timer=null),c.inputed=!1,c.listener.call(null,i)},c.wait))}s(v,"schedule");function g(i){const c=i.currentTarget,h=E.get(c);!h||(h.keypressed=!0,h.timer!=null&&clearTimeout(h.timer))}s(g,"onKeydownInput");function m(i){const c=i.currentTarget,h=E.get(c);!h||(h.keypressed=!1,h.inputed&&v(c))}s(m,"onKeyupInput");function p(i){const c=i.currentTarget,h=E.get(c);!h||(h.inputed=!0,h.keypressed||v(c))}s(p,"onInputInput");function j(i,c,h={wait:null}){E.set(i,{keypressed:!1,inputed:!1,timer:void 0,listener:c,wait:h.wait!=null?h.wait:100}),i.addEventListener("keydown",g),i.addEventListener("keyup",m),i.addEventListener("input",p)}s(j,"addThrottledInputEventListener");function f(i,c){i.removeEventListener("keydown",g),i.removeEventListener("keyup",m),i.removeEventListener("input",p);const h=E.get(i);h&&(h.timer!=null&&h.listener===c&&clearTimeout(h.timer),E.delete(i))}s(f,"removeThrottledInputEventListener");function w(i){const c=E.get(i);c&&c.listener.call(null,i)}s(w,"dispatchThrottledInputEvent")},5878:(k,M,u)=>{u.d(M,{Z:()=>v});function E(g){return g.offsetWidth<=0&&g.offsetHeight<=0}s(E,"hidden");function v(g){return!E(g)}s(v,"visible")}},k=>{var M=s(E=>k(k.s=E),"__webpack_exec__");k.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_codemirror_lib_codemirror_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_codemirror-contrib_lib_m-684a28"],()=>M(22452));var u=k.O()}]);})();

//# sourceMappingURL=editor-a979cd933098.js.map